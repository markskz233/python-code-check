<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python代码检查器</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="bg-light">
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom">
        <div class="container">
            <a class="navbar-brand" href="#">Python代码检查器</a>
            <div class="d-flex">
                <a href="/mistakes" class="btn btn-primary me-2">
                    <i class="bi bi-journal-x"></i>
                    错题中心
                </a>
                <a href="/user" class="btn btn-primary">
                    <i class="bi bi-person"></i>
                    用户中心
                </a>
            </div>
        </div>
    </nav>

    <div class="container my-5">
        <h1 class="text-center mb-5">Python代码检查器</h1>
        
        <!-- 输入区域 -->
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="problemDescription" class="form-label">题目描述</label>
                    <textarea id="problemDescription" class="form-control" rows="5" 
                            placeholder="请输入算法题目描述..."></textarea>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="pythonCode" class="form-label">Python代码</label>
                    <textarea id="pythonCode" class="form-control" rows="5"
                            placeholder="请输入Python代码..."></textarea>
                </div>
            </div>
        </div>

        <!-- 测试数据展示区 -->
        <div class="test-data-section">
            <div class="test-data-header">
                <div class="test-data-title">
                    <h3>测试数据</h3>
                    <div id="statusIndicator" class="status-indicator idle">
                        <span id="statusText">空闲中</span>
                        <div class="status-animation"></div>
                    </div>
                </div>
                <div class="test-buttons">
                    <button id="testButton" class="btn btn-primary">
                        开始测试
                        <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                    </button>
                    <button id="resetButton" class="btn btn-danger" disabled>
                        重置测试
                    </button>
                </div>
            </div>
            <div class="test-data-container">
                <div class="test-data-box">
                    <h5>测试输入</h5>
                    <div id="testInputs" class="test-data-content"></div>
                </div>
                <div class="test-data-box">
                    <h5>预期输出</h5>
                    <div id="expectedOutputs" class="test-data-content"></div>
                </div>
                <div class="test-data-box">
                    <h5>实际输出</h5>
                    <div id="actualOutputs" class="test-data-content"></div>
                </div>
            </div>
        </div>

        <!-- 错误纠正区 -->
        <div class="error-correction-section">
            <h3>错误纠正</h3>
            <div class="error-correction-container">
                <div class="error-correction-box">
                    <h4>问题分析</h4>
                    <div id="problemAnalysis" class="analysis-box"></div>
                </div>
                <div class="error-correction-box">
                    <h4>解决方案</h4>
                    <div id="solution" class="analysis-box"></div>
                </div>
                <div class="error-correction-box">
                    <h4>代码纠正</h4>
                    <div id="codeCorrection" class="analysis-box"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/display/autorefresh.min.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>